version = '0.1'

allprojects {
  apply plugin: 'idea'
  repositories {
    mavenLocal()
    mavenCentral()
    maven {
      url "https://repository.cloudera.com/artifactory/cloudera-repos/"
    }
  }
}

subprojects {
  apply plugin: 'java'
  sourceCompatibility = 1.7
}

project(':app') {
  dependencies {
    compile "org.apache.kafka:kafka_2.10:0.10.1.0-SNAPSHOT"
    compile "org.apache.kafka:kafka-streams:0.10.1.0-SNAPSHOT"
    testCompile group: 'junit', name: 'junit', version: '4.11'
  }

  configurations {
    all*.exclude group: 'javax.jms', module: 'jms'
    all*.exclude group: 'com.sun.jdmk', module: 'jmxtools'
    all*.exclude group: 'com.sun.jmx', module: 'jmxri'
    published
  }

  apply plugin: 'application'

  mainClassName = "com.singhasdev.calamus.app.sentimentanalysis.SentimentAnalyzer"

  run {
    if ( project.hasProperty('args') ) {
      args project.args.split('\\s+')
    }
  }
}
